<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <div class="container text-center">
        <h1>Pandas thông dụng</h1>
        <span>Menu ==></span>
        <a class="btn btn-success" href="./index.html">Python Cheat Sheet</a>
        <section class="text-start">
            <div class="border-bottom pb-2">
                <h3>1/ pd.read_csv</h3>
                <p>Cú pháp : pd.read_csv('...')</p>
                <p>Đọc những cột được chỉ định: usecols=['col1','col2','col3'] or usecols=[0,1,2]</p>
                <p>Chế độ mã hóa: encoding="utf8" </p>
                <p>Nếu file không có header thì thêm thuộc tính để đánh index cho header: header=None</p>
                <p>Nếu muốn hàng nào làm header thì : header=1 hay header=2,.....</p>
                <p>Gán data type: dtype={'col1':str,'col2':int32}</p>
            </div>
            <div class="border-bottom pb-2">
                <h3>2/ df.dtypes : Kiểm tra kiểu dữ liệu các cột</h3>
            </div>
            <div class="border-bottom pb-2">
                <h3>3/ df.isnull().sum() : Tính số giá trính null của mỗi cột</h3>
            </div>
            <div class="border-bottom pb-2">
                <h3>4/ df.fillna(12345) : Thay thế giá trị Na bằng giá trị nào đó</h3>
            </div>
            <div class="border-bottom pb-2">
                <h3>5/ df.apply(function) : tính toán cho từng hàng hoặc cột (mặc định là cột)</h3>
                <p>Thêm thuộc tính : axis=1 nếu tính theo hàng</p>
                <p>axis=0 là mặc định, tính theo cột</p>
                <p>một số hàm numpy hỗ trợ: np.sum, np.sqrt ,....</p>
                <p><b>Tự tạo function để apply</b> </p>
                <p>def standardize(col): <br>
                    return (col - col.mean())/(col.max()-col.min())</p>
                <p>rating_std = new_df.apply(standardize)</p>
            </div>
            <div class="border-bottom pb-2">
                <h3>df.T : Nghịch đảo hàng thành cột, cột thành hàng</h3>
            </div>
            <div class="border-bottom pb-2">
                <h3>df.groupby(['value1','value2'])["value3"]</h3>
                <b>Ví dụ</b>
                <p>a = df.groupby(["Category"])["Order ID"].unique()  ==> trả về các giá trị unique</p>
                <p>a = df.groupby(["Category"])["Order ID"].nunique() ==> đếm số lượng unique</p>
                <p>a = df.groupby('Category')['Profit'].sum() ==> Nhóm song rồi tính tổng</p>
            </div>
            <div class="border-bottom pb-2">
                <h3>pd.DataFrame(data,index=[...],columns=[...]) ==> Tạo dataframe</h3>
            </div>
            <div class="border-bottom pb-2">
                <h3>data.sort_values("Name", axis = 0, ascending = True, inplace = False, na_position ='last')</h3>
                <p>Sort theo trường "Name"</p>
                <p>axis=0 =>Sort theo cột</p>
                <p>ascending = True => tăng dần , "False" giảm dần</p>
                <p>inplace= True => sắp xếp trực tiếp trên dataframe, "False" sẽ trả về dataframe mới</p>
                <p>nếu có giá trị na_position thì xếp ở đâu : "last" , "first"</p>
            </div>
            <div class="border-bottom pb-2">
                <h3>df.dropna(axis=0, how='any', thresh=None, subset=None, inplace=False)</h3>
                <p>thresh = None hoặc integer => số lượng giá trị khác NaN trong dòng hoặc cốt ít nhất là bao nhiêu để không drop</p>
                <p>user_ratings.dropna(thresh=10,axis=1).fillna(0)</p>
            </div>
            <div class="border-bottom pb-2">
                <h3>Select row with conditions</h3>
                <ul>
                    <li>df.loc[df['column_name'] == some_value]</li>
                    <li>df.loc[df['column_name'].isin(some_values)]</li>
                    <li>df.loc[(df['column_name'] >= A) & (df['column_name'] <= B)]</li>
                    <li>df.loc[df['column_name'] != some_value]</li>
                    <li>So to select rows whose value is not in some_values: df.loc[~df['column_name'].isin(some_values)]</li>
                </ul>
             
            </div>
        </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>

</html>